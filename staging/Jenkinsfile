String branchName = "staging"
String gitCredentials = "MyGitHub"
String repoUrl = "https://github.com/warhunt/hello-app.git"

pipeline {
    agent any 
    options {
        skipDefaultCheckout(true)
    }
    stages {
        stage('Build') { 
            steps {
                echo 'Cloning files from (branch: "' + branchName + '" )'
                git branch: branchName, credentialsId: 	gitCredentials, url: repoUrl
        
                echo 'Download Dockerfile and .dockerignore'
                sshagent(credentials: [gitCredentials]) {
                    sh "git archive --remote=https://github.com/warhunt/hello-app-ci.git --format=tar master /staging/Dockerfile | tar xf -"
                }
                
            }
        }
    }
}